# Chapter 1: What's inside your PC

## Examples

- [first.s](first.s) -- the incredible "Hello, world" program.
- [second.s](second.s) -- the incredible keyboard reading program.


## Notes

The GNU assembler doesn't have a directive that's equivalent to NASM's [`ORG`](https://nasm.us/doc/nasmdoc8.html#section-8.1.1) directive.  You can specify a location of the `.text` section using `-Ttext` option of linker:
```
$ as first.s -o first.o
$ ld --oformat binary -e start -Ttext 0x100 first.o -o first.com
```

In order to view the machine code generated by assembler you can use the `objdump` program:
```
$ objdump -b binary -m i8086 --adjust-vma=0x100 -D second.com

second.com:     file format binary


Disassembly of section .data:

00000100 <.data>:
 100:   b4 00                   mov    $0x0,%ah
 102:   cd 16                   int    $0x16
 104:   3c 1b                   cmp    $0x1b,%al
 106:   74 09                   je     0x11
 108:   b4 0e                   mov    $0xe,%ah
 10a:   bb 0f 00                mov    $0xf,%bx
 10d:   cd 10                   int    $0x10
 10f:   eb ef                   jmp    0x0
 111:   cd 20                   int    $0x20
```


## Instructions learned

1. `inc`, increment by one.
2. `int`, interruption (call service vector).
3. `je`, jump if equal (also can be `jz`, jump if zero).
4. `jmp`, jump always.
5. `pop`, restore data from stack.
6. `push`, save data into stack.
7. `test`, test register for mask or zero (same as `and` but without modifying test register).
